<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <title>YaadVibe 1Drop</title>
  <script src="https://cdn.jsdelivr.net/gh/davidshimjs/qrcodejs/qrcode.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --green: #009B48; --gold: #FFD700; --black: #000; --dark: #0a0a0a;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Inter', sans-serif;
      background: #000;
      color: #fff;
      min-height: 100dvh;
      overflow-x: hidden;
      background-image: url('IMG_0039.jpeg'), linear-gradient(135deg, #001a00, #003300);
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      position: relative;
    }
    .overlay {
      position: fixed; inset: 0;
      background: linear-gradient(135deg, rgba(0,0,0,0.85), rgba(0,155,72,0.65));
      backdrop-filter: blur(3px);
      z-index: 1;
    }

    /* AI-GENERATED SILKY FLOWING FLAG */
    .flag {
      position: fixed; top: 12px; left: 12px; width: 80px; height: 55px;
      background: 
        radial-gradient(circle at 30% 50%, #fff3, transparent 60%),
        linear-gradient(45deg, #000 0%, #000 25%, var(--gold) 25%, var(--gold) 50%, #000 50%, #000 75%, var(--green) 75%, var(--green) 100%);
      border-radius: 10px; box-shadow: 0 0 25px rgba(255,215,0,0.9), 0 0 40px rgba(0,150,72,0.6);
      animation: flow 3s infinite ease-in-out, shine 2s infinite; z-index: 10;
      transform-origin: left center;
    }
    @keyframes flow {
      0%,100% { transform: translateY(0) skewY(0) scaleX(1); }
      25% { transform: translateY(-3px) skewY(1deg) scaleX(1.02); }
      50% { transform: translateY(0) skewY(-1deg) scaleX(1.01); }
      75% { transform: translateY(-2px) skewY(0.5deg) scaleX(1.02); }
    }
    @keyframes shine {
      0%,100% { filter: brightness(1); }
      50% { filter: brightness(1.3) saturate(1.2); }
    }

    .container {
      position: relative; z-index: 2;
      max-width: 100%; padding: 1rem;
      display: flex; flex-direction: column; align-items: center;
      min-height: 100dvh; justify-content: flex-start;
    }
    .logo {
      font-size: clamp(2.8rem, 11vw, 4.5rem); font-weight: 900;
      background: linear-gradient(45deg, #fff, var(--gold), #FFEDAB);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      text-align: center; margin: 1.8rem 0 0.6rem;
      letter-spacing: -1.5px; text-shadow: 0 0 10px rgba(255,215,0,0.4);
    }
    .msg {
      font-size: 1.45rem; font-weight: 600; text-align: center;
      max-width: 90%; margin: 0.6rem 0 1.6rem; line-height: 1.45;
    }
    .calc {
      position: fixed; top: 70px; right: 16px; z-index: 11;
      background: rgba(0,0,0,0.7); border: 2px solid var(--gold);
      border-radius: 16px; padding: 8px 12px;
      font-weight: 700; font-size: 1.1rem; color: var(--gold);
      backdrop-filter: blur(8px);
    }
    .btn {
      width: 88dvw; max-width: 360px; padding: 1.3rem;
      border-radius: 18px; font-size: 1.35rem; font-weight: 700;
      border: none; cursor: pointer; margin: 0.7rem 0;
      box-shadow: 0 10px 25px rgba(0,0,0,0.6);
      transition: all .2s; text-align: center;
    }
    .btn.gold { background: var(--gold); color: #000; }
    .btn.green { background: var(--green); color: #fff; border: 3px solid var(--gold); }
    .btn:active { transform: scale(0.95); }

    .step { display: none; width: 100%; animation: fade 0.5s ease-out; }
    .step.active { display: block; }
    @keyframes fade { from { opacity: 0; transform: translateY(25px); } to { opacity: 1; transform: none; } }

    .option-card {
      background: rgba(255,255,255,0.14); border: 2px solid transparent;
      border-radius: 18px; padding: 1.1rem; margin: 0.9rem 0;
      display: flex; align-items: center; cursor: pointer;
      transition: all .25s; backdrop-filter: blur(10px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    }
    .option-card:hover { border-color: var(--gold); transform: translateY(-3px); }
    .option-card.selected { border-color: var(--gold); background: rgba(255,215,0,0.18); }
    .option-card img { width: 76px; height: 76px; object-fit: cover; border-radius: 12px; margin-right: 14px; }
    .option-card .info { flex: 1; }
    .option-card .name { font-weight: 700; font-size: 1.15rem; }
    .option-card .price { color: var(--gold); font-weight: 700; font-size: 1.25rem; }

    input, select {
      width: 88dvw; max-width: 340px; padding: 18px 16px; /* 50% bigger */
      border-radius: 18px; background: rgba(255,255,255,0.12);
      border: 2px solid #444; color: #fff; font-size: 1.2rem;
      margin: 1rem 0; backdrop-filter: blur(8px);
    }

    .occupancy {
      display: flex; gap: 12px; justify-content: center; margin: 1rem 0;
    }
    .occupancy select {
      width: 42dvw; max-width: 160px; padding: 14px; font-size: 1.1rem;
    }

    .nights {
      display: flex; align-items: center; gap: 12px; margin: 1rem 0;
      font-size: 1.2rem; font-weight: 700;
    }
    .nights button {
      width: 40px; height: 40px; border-radius: 50%;
      background: var(--gold); color: #000; font-size: 1.5rem;
      border: none; cursor: pointer;
    }

    #summary-items .item {
      display: flex; justify-content: space-between; padding: 0.9rem 0;
      border-bottom: 1px solid rgba(255,255,255,0.25); font-size: 1.15rem;
    }
    .total { font-size: 1.8rem; font-weight: 700; color: var(--gold); text-align: center; margin: 1.8rem 0; }

    .trust { text-align: center; font-size: 0.95rem; color: #bbb; margin-top: 1.2rem; }
    .trust a { color: var(--gold); text-decoration: none; }

    @media (min-width: 400px) {
      .btn, input, select { width: 340px; }
      .occupancy select { width: 160px; }
    }
  </style>
</head>
<body>
  <div class="overlay"></div>
  <div class="flag"></div>
  <div class="calc">Total: $<span id="liveTotal">0</span></div>

  <div class="container">
    <h1 class="logo">YAAD<br>VIBE</h1>

    <!-- STEP 0 -->
    <div id="step0" class="step active">
      <p class="msg">Can we help you book a vacation package?</p>
      <button class="btn gold" id="startBtn">Start Building</button>
      <div class="trust">Trusted by 500+ travelers • <a href="#">Read reviews</a></div>
    </div>

    <!-- STEP 1 -->
    <div id="step1" class="step">
      <p class="msg">Are you traveling to Jamaica?</p>
      <div class="option-card selected" data-value="yes">
        <div class="info"><div class="name">Yes, from abroad</div></div>
      </div>
      <div class="option-card" data-value="no">
        <div class="info"><div class="name">No, I'm local</div></div>
      </div>
    </div>

    <!-- STEP 2 -->
    <div id="step2" class="step">
      <p class="msg">Where are you traveling from?</p>
      <select id="fromCity">
        <option value="">Select City</option>
        <option>Miami, USA</option>
        <option>New York, USA</option>
        <option>London, UK</option>
        <option>Toronto, Canada</option>
        <option>Paris, France</option>
        <option>Tokyo, Japan</option>
        <option>Sydney, Australia</option>
        <option>Berlin, Germany</option>
        <option>Kingston, Jamaica</option>
        <option>Montego Bay, Jamaica</option>
        <!-- Add 100+ more -->
      </select>
      <button class="btn green" id="btn2">Next</button>
    </div>

    <!-- STEP 3 -->
    <div id="step3" class="step">
      <p class="msg">Arrival & Departure</p>
      <input type="date" id="arriveDate">
      <input type="date" id="departDate">
      <div class="occupancy">
        <select id="adults">
          <option value="1">1 Adult</option>
          <option value="2" selected>2 Adults</option>
          <option value="3">3 Adults</option>
          <option value="4">4 Adults</option>
        </select>
        <select id="kids">
          <option value="0" selected>0 Kids</option>
          <option value="1">1 Kid</option>
          <option value="2">2 Kids</option>
          <option value="3">3 Kids</option>
        </select>
      </div>
      <div class="nights">
        <button id="minus">-</button>
        <span id="nightCount">1</span> night(s)
        <button id="plus">+</button>
      </div>
      <button class="btn green" id="btn3">Next</button>
    </div>

    <!-- STEP 4 -->
    <div id="step4" class="step">
      <p class="msg">What parish will you stay in?</p>
      <div id="parish-options"></div>
      <button class="btn green" id="parishNext" style="display:none">Next → Choose Vibe</button>
    </div>

    <!-- STEP 5 -->
    <div id="step5" class="step">
      <p class="msg">What vibe — Inland or Coastal?</p>
      <div class="option-card" data-value="coastal">
        <div class="info"><div class="name">Coastal</div></div>
      </div>
      <div class="option-card" data-value="inland">
        <div class="info"><div class="name">Inland</div></div>
      </div>
      <button class="btn green" id="btnVibe">Next → Choose Stay</button>
    </div>

    <!-- STEP 6 -->
    <div id="step6" class="step">
      <p class="msg">Choose your stay</p>
      <div id="stay-options"></div>
      <button class="btn green" id="btnStay">Next → Transport</button>
    </div>

    <!-- STEP 7 -->
    <div id="step7" class="step">
      <p class="msg">Need a ride? (optional)</p>
      <div id="transport-options"></div>
      <button class="btn green" id="btnTransport">Next → Tours</button>
    </div>

    <!-- STEP 8 -->
    <div id="step8" class="step">
      <p class="msg">Add tours (optional)</p>
      <div id="tour-options"></div>
      <button class="btn green" id="btnTours">Show My Package</button>
    </div>

    <!-- SUMMARY -->
    <div id="summary" class="step">
      <p class="msg">Your YaadVibe Package</p>
      <div id="summary-items"></div>
      <div class="total">Total: $<span id="total">0</span></div>
      <button class="btn gold" id="btnPay">Pay with Wallet</button>
      <div id="qr-area"></div>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const ALL_PARISHES = [
    "clarendon", "hanover", "kingston", "manchester", "portland",
    "saint-andrew", "saint-ann", "saint-catherine", "saint-elizabeth",
    "saint-james", "saint-mary", "saint-thomas", "trelawny", "westmoreland"
  ];

  const LIVE_DATA = {
    accommodations: {
      "st-james": [
        {name:"Round Hill • Villa 10",price:680,source:"Luxury",img:"https://www.roundhill.com/wp-content/uploads/2023/06/Round-Hill-Villa-Exterior.jpg",type:"coastal"},
        {name:"Iberostar Rose Hall",price:420,source:"Resort",img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2a/2d/3g.jpg?w=1200",type:"coastal"}
      ],
      "kingston": [
        {name:"Jewel Grande • Moonrise Suite",price:580,source:"Premium",img:"IMG_0039.jpeg",type:"coastal"},
        {name:"Pegasus Kingston",price:180,source:"Hotel",img:"https://cf.bstatic.com/xdata/images/hotel/max1280x900/483221417.jpg",type:"inland"}
      ],
      "st-thomas": [
        {name:"GoldenEye • Lagoon Cottage",price:920,source:"Iconic",img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2a/2d/3f/2c/goldeneye.jpg?w=1200",type:"coastal"}
      ],
      "st-ann": [
        {name:"Sandals Dunn’s River",price:720,source:"All-Inclusive",img:"https://www.sandals.com/blog/wp-content/uploads/2023/05/Sandals-Dunns-River-Exterior.jpg",type:"coastal"}
      ],
      "default": [
        {name:"Local Guesthouse",price:120,source:"Budget",img:"IMG_0039.jpeg",type:"inland"},
        {name:"Airbnb Villa",price:280,source:"Private",img:"IMG_0039.jpeg",type:"coastal"}
      ]
    },
    transport: {
      "st-james": [{name:"Private Transfer MBJ → Round Hill",price:120},{name:"Knutsford Express",price:45},{name:"Local Taxi",price:80}],
      "kingston": [{name:"Lynk Airport → City",price:25},{name:"JUTC Bus",price:2},{name:"Private Driver",price:80}],
      "default": [{name:"Local Taxi",price:60},{name:"Route Taxi",price:5}]
    },
    tours: {
      "st-james": [{name:"Rick’s Café Sunset",price:65},{name:"YS Falls + Black River",price:110},{name:"Negril Beach Day",price:50}],
      "kingston": [{name:"Bob Marley Museum",price:30},{name:"Devon House + Jerk",price:45},{name:"Blue Mountain Coffee Tour",price:95}],
      "default": [{name:"Local Market Tour",price:35},{name:"Nature Walk",price:20}]
    }
  };

  let state = { 
    from:'', arrive:'', depart:'', parish:'', vibe:'', stay:null, 
    transport:[], tours:[], nights:1, adults:2, kids:0 
  };
  let total = 0;

  const updateCalc = () => {
    total = 0;
    if (state.stay) {
      const base = state.stay.price * state.nights;
      const occupancyFee = state.adults > 2 ? (state.adults - 2) * 50 : 0;
      total += base + occupancyFee + Math.round(base * 0.05);
    }
    state.transport.forEach(t => total += t.price);
    state.tours.forEach(t => total += t.price);
    document.getElementById('liveTotal').textContent = total.toFixed(2);
  };

  const next = n => {
    document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
    const target = n === 9 ? document.getElementById('summary') : document.getElementById('step' + n);
    if (target) target.classList.add('active');
    updateCalc();
  };

  const renderParishes = () => {
    const c = document.getElementById('parish-options'); c.innerHTML = '';
    ALL_PARISHES.forEach(p => {
      const card = document.createElement('div');
      card.className = 'option-card';
      card.innerHTML = `<div class="info"><div class="name">${p.replace(/-/g,' ').replace(/\b\w/g, l => l.toUpperCase())}</div></div>`;
      card.onclick = () => {
        c.querySelectorAll('.option-card').forEach(x => x.classList.remove('selected'));
        card.classList.add('selected');
        state.parish = p;
        document.getElementById('parishNext').style.display = 'block';
      };
      c.appendChild(card);
    });
  };

  const loadStays = () => {
    const c = document.getElementById('stay-options');
    c.innerHTML = '<p style="text-align:center;color:#aaa">Finding your vibe...</p>';
    setTimeout(() => {
      c.innerHTML = '';
      const items = LIVE_DATA.accommodations[state.parish] || LIVE_DATA.accommodations.default;
      const filtered = state.vibe ? items.filter(i => i.type === state.vibe) : items;
      filtered.forEach(item => {
        const card = document.createElement('div');
        card.className = 'option-card';
        card.innerHTML = `
          <img src="${item.img}" onerror="this.src='IMG_0039.jpeg'" alt="${item.name}">
          <div class="info">
            <div class="name">${item.name}</div>
            <div class="price">$${item.price}/night</div>
          </div>
        `;
        card.onclick = () => {
          c.querySelectorAll('.option-card').forEach(x => x.classList.remove('selected'));
          card.classList.add('selected');
          state.stay = {...item, fee: Math.round(item.price * 0.05)};
          updateCalc();
        };
        c.appendChild(card);
      });
    }, 600);
  };

  const loadTransport = () => {
    const c = document.getElementById('transport-options'); c.innerHTML = '';
    const opts = LIVE_DATA.transport[state.parish] || LIVE_DATA.transport.default;
    opts.forEach(t => {
      const card = document.createElement('div');
      card.className = 'option-card';
      card.innerHTML = `<div class="info"><div class="name">${t.name}</div><div class="price">$${t.price}</div></div>`;
      card.onclick = () => {
        card.classList.toggle('selected');
        if (card.classList.contains('selected')) state.transport.push(t);
        else state.transport = state.transport.filter(x => x.name !== t.name);
        updateCalc();
      };
      c.appendChild(card);
    });
  };

  const loadTours = () => {
    const c = document.getElementById('tour-options'); c.innerHTML = '';
    const opts = LIVE_DATA.tours[state.parish] || LIVE_DATA.tours.default;
    opts.forEach(t => {
      const card = document.createElement('div');
      card.className = 'option-card';
      card.innerHTML = `<div class="info"><div class="name">${t.name}</div><div class="price">$${t.price}</div></div>`;
      card.onclick = () => {
        card.classList.toggle('selected');
        if (card.classList.contains('selected')) state.tours.push(t);
        else state.tours = state.tours.filter(x => x.name !== t.name);
        updateCalc();
      };
      c.appendChild(card);
    });
  };

  const showSummary = () => {
    const div = document.getElementById('summary-items'); div.innerHTML = '';
    const add = (label, price, fee = 0) => {
      div.innerHTML += `<div class="item"><span>${label}</span><span>$${price}${fee ? ` + <strong>$${fee}</strong> fee` : ''}</span></div>`;
    };
    if (state.stay) {
      const base = state.stay.price * state.nights;
      const occupancyFee = state.adults > 2 ? (state.adults - 2) * 50 : 0;
      add(`${state.stay.name} (${state.nights} nights, ${state.adults}A/${state.kids}K)`, base + occupancyFee, Math.round(base * 0.05));
    }
    state.transport.forEach(t => add(t.name, t.price));
    state.tours.forEach(t => add(t.name, t.price));
    document.getElementById('total').textContent = total.toFixed(2);
    next(9);
  };

  // === EVENT LISTENERS ===
  document.getElementById('startBtn').onclick = () => next(1);

  document.getElementById('step1').addEventListener('click', e => {
    const card = e.target.closest('.option-card');
    if (card) {
      document.querySelectorAll('#step1 .option-card').forEach(c => c.classList.remove('selected'));
      card.classList.add('selected');
      next(card.dataset.value === 'yes' ? 2 : 4);
    }
  });

  document.getElementById('btn2').onclick = () => {
    state.from = document.getElementById('fromCity').value;
    if (!state.from) return alert("Choose your city!");
    next(3);
  };

  document.getElementById('adults').onchange = e => { state.adults = +e.target.value; updateCalc(); };
  document.getElementById('kids').onchange = e => { state.kids = +e.target.value; updateCalc(); };

  document.getElementById('minus').onclick = () => { if (state.nights > 1) { state.nights--; document.getElementById('nightCount').textContent = state.nights; updateCalc(); } };
  document.getElementById('plus').onclick = () => { state.nights++; document.getElementById('nightCount').textContent = state.nights; updateCalc(); };

  document.getElementById('btn3').onclick = () => {
    state.arrive = document.getElementById('arriveDate').value;
    state.depart = document.getElementById('departDate').value;
    if (!state.arrive || !state.depart) return alert("Pick both dates!");
    next(4);
    renderParishes();
  };

  document.getElementById('parishNext').onclick = () => {
    if (!state.parish) return alert("Choose parish!");
    next(5);
  };

  document.getElementById('btnVibe').onclick = () => {
    const sel = document.querySelector('#step5 .option-card.selected');
    if (!sel) return alert("Choose vibe!");
    state.vibe = sel.dataset.value;
    loadStays();
    next(6);
  };

  document.getElementById('btnStay').onclick = () => {
    if (!state.stay) return alert("Pick stay!");
    loadTransport();
    next(7);
  };

  document.getElementById('btnTransport').onclick = () => { loadTours(); next(8); };
  document.getElementById('btnTours').onclick = showSummary;

  document.getElementById('step5').addEventListener('click', e => {
    const card = e.target.closest('.option-card');
    if (card) {
      document.querySelectorAll('#step5 .option-card').forEach(c => c.classList.remove('selected'));
      card.classList.add('selected');
    }
  });
});
</script>
</body>
</html>
