<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YAADLIFE v8 • Full Power</title>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <style>
    :root{--black:#000;--green:#009B48;--gold:#FFD700;--darkgreen:#006633}
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Inter',sans-serif;color:#fff;background:#000;overflow-x:hidden}
    .bg-slideshow{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1}
    .bg-slide{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;opacity:0;transition:opacity 3s ease}
    .bg-slide.active{opacity:1}
    .container{max-width:960px;margin:0 auto;padding:20px;position:relative;z-index:10}
    h1{font-size:5.8rem;color:var(--gold);text-align:center;font-weight:900;text-shadow:0 0 60px var(--green),0 15px 40px #000;letter-spacing:6px;margin:40px 0}
    h2{font-size:2.4rem;text-align:center;color:var(--gold);margin:40px 0 25px}
    .step{display:none;padding:40px;background:rgba(0,0,0,0.88);backdrop-filter:blur(22px);border-radius:44px;border:6px solid var(--green);margin:35px 0;box-shadow:0 35px 90px rgba(0,0,0,.98)}
    .step.active{display:block;animation:fadeIn 1s}
    @keyframes fadeIn{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:none}}
    button{background:var(--green);color:#fff;border:none;padding:26px 50px;margin:35px auto;display:block;width:100%;max-width:520px;border-radius:90px;font-size:1.8rem;font-weight:900;cursor:pointer;transition:.5s;box-shadow:0 20px 70px rgba(0,155,72,1)}
    button:hover{background:var(--darkgreen);transform:scale(1.08)}
    button.wallet{background:#6B4EFF;border:6px solid var(--gold);font-size:1.9rem;padding:32px}
    button.small{background:var(--gold);color:#000;padding:14px 28px;font-size:1.2rem;border-radius:40px}
    .option-card{background:rgba(255,255,255,0.16);border:5px solid transparent;border-radius:36px;overflow:hidden;cursor:pointer;transition:.5s;margin:22px 0;box-shadow:0 18px 50px rgba(0,0,0,.7)}
    .option-card:hover{transform:scale(1.06)}
    .option-card.selected{border-color:var(--gold)}
    .option-img{height:200px;background-size:cover;background-position:center}
    .option-text{padding:24px;text-align:center;font-size:1.5rem;font-weight:700}
    .calendar-input{width:100%;padding:32px;border-radius:32px;background:rgba(255,255,255,.14);border:6px solid var(--green);color:#fff;font-size:1.8rem;text-align:center;margin:35px 0}
    #start-button{font-size:3.2rem;padding:60px;background:linear-gradient(135deg,var(--green),var(--darkgreen));border:14px solid var(--gold)}
    .total{font-size:5rem;font-weight:900;text-align:center;margin:80px 0;color:var(--gold);text-shadow:0 0 70px #000}
    .breakdown{background:rgba(255,255,255,0.1);padding:20px;border-radius:20px;margin:20px 0;border-left:6px solid var(--gold);font-size:1.4rem}
    .stay-block,.transport-block,.tour-block{margin:20px 0;padding:20px;background:rgba(255,255,255,0.08);border-radius:20px;border-left:6px solid var(--gold)}
  </style>
</head>
<body>

<div class="bg-slideshow">
  <div class="bg-slide active" style="background-image:url('https://i.ibb.co/9v7k7vP/your-moon-image.jpg')"></div>
  <div class="bg-slide" style="background-image:url('https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=1600')"></div>
  <div class="bg-slide" style="background-image:url('https://images.unsplash.com/photo-1559523195-5a3b7e0e8f2e?w=1600')"></div>
  <div class="bg-slide" style="background-image:url('https://images.unsplash.com/photo-1573551222829-5f2b7b3b2b5c?w=1600')"></div>
</div>

<div class="container">

  <!-- STEP 0 -->
  <div id="step0" class="step active">
    <h1>YAADLIFE</h1>
    <p style="text-align:center;font-size:2.2rem;margin:50px 0;opacity:0.95">One Love. One Calendar. Full Jamaica.</p>
    <button id="start-button">Start Building My Yaad</button>
  </div>

  <!-- STEP 1 -->
  <div id="step1" class="step">
    <h2>Are you in Jamaica right now?</h2>
    <div class="option-card selected" data-value="local">
      <div class="option-img" style="background-image:url('https://images.unsplash.com/photo-1570559449616-0e7d30c69b69?w=800')"></div>
      <div class="option-text">Yes, I'm local / already here</div>
    </div>
    <div class="option-card" data-value="intl">
      <div class="option-img" style="background-image:url('https://images.unsplash.com/photo-1519677100203-0d5a4e4e9d9b?w=800')"></div>
      <div class="option-text">Flying in from abroad</div>
    </div>
  </div>

  <!-- STEP 2: DATES -->
  <div id="step2" class="step">
    <h2>Select Your Travel Dates</h2>
    <input type="text" id="dateRange" class="calendar-input" placeholder="Tap to choose Arrival to Departure">
    <button id="confirm-dates">Confirm Dates</button>
  </div>

  <!-- STEP 3: MULTI-STAY BUILDER -->
  <div id="step3" class="step">
    <h2>Where Will You Stay?</h2>
    <p style="text-align:center">Split across parishes</p>
    <div id="stays-container"></div>
    <button id="add-stay">+ Add Another Stay</button>
    <button id="done-stays">Next to Transport</button>
  </div>

  <!-- FINAL SUMMARY -->
  <div id="summary" class="step">
    <h1>Your YaadLife Trip</h1>
    <div id="final-summary"></div>
    <div class="total">$<span id="total">0</span> USD</div>
    <button id="wallet-connect" class="wallet">Connect Wallet & Pay</button>
    <p style="text-align:center;margin:50px 0;font-size:1.5rem;opacity:0.9">
      Your lifetime YaadLife Soulbound Pass will be minted automatically<br>
      <strong>You are now family forever</strong>
    </p>
  </div>
</div>

<script>
const slides = document.querySelectorAll('.bg-slide');
let current = 0;
setInterval(() => {
  slides[current].classList.remove('active');
  current = (current + 1) % slides.length;
  slides[current].classList.add('active');
}, 15000);

const parishes = ["Kingston","St. Andrew","St. Catherine","Portland","St. Thomas","St. Mary","St. Ann","Trelawny","St. James","Hanover","Westmoreland","St. Elizabeth","Manchester","Clarendon"];
const hotelsByParish = {
  "Kingston": ["Jamaica Pegasus","Courtleigh","AC Hotel"],
  "Portland": ["Trident Hotel","Geejam","Kanopi House"],
  "St. Andrew": ["Terra Nova","Strawberry Hill"],
  "Negril": ["The Caves","Rockhouse","Couples Negril"]
  // Add more as needed
};

let state = { stays: [], total: 0 };

document.addEventListener('DOMContentLoaded', () => {
  flatpickr("#dateRange", { mode: "range", dateFormat: "M j, Y", minDate: "today" });

  const next = id => {
    document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
  };

  document.getElementById('start-button').onclick = () => next('step1');
  document.getElementById('step1').addEventListener('click', e => {
    if (e.target.closest('.option-card')) next('step2');
  });
  document.getElementById('confirm-dates').onclick = () => {
    if (document.getElementById('dateRange').value.includes('to')) {
      next('step3');
      addStayBlock();
    }
  });

  function addStayBlock() {
    const block = document.createElement('div');
    block.className = 'stay-block';
    block.innerHTML = `
      <select class="parish-select" style="width:100%;padding:18px;margin:10px 0;background:#111;color:#fff;border:3px solid var(--green);border-radius:16px">
        ${parishes.map(p => `<option>${p}</option>`).join('')}
      </select>
      <select class="hotel-select" style="width:100%;padding:18px;margin:10px 0;background:#111;color:#fff;border:3px solid var(--green);border-radius:16px"></select>
      <input type="number" class="nights" value="3" min="1" style="width:100%;padding:18px;margin:10px 0;background:#111;color:#fff;border:3px solid var(--green);border-radius:16px">
      <button class="small" onclick="this.parentElement.remove(); updateTotal()">Remove</button>
    `;
    document.getElementById('stays-container').appendChild(block);
    const parishSelect = block.querySelector('.parish-select');
    const hotelSelect = block.querySelector('.hotel-select');
    parishSelect.onchange = () => {
      const hotels = hotelsByParish[parishSelect.value] || ["Luxury Villa", "Beach Resort"];
      hotelSelect.innerHTML = hotels.map(h => `<option>${h}</option>`).join('');
    };
    parishSelect.onchange();
    block.querySelector('.nights').onchange = updateTotal;
  }
  document.getElementById('add-stay').onclick = addStayBlock;
  document.getElementById('done-stays').onclick = () => {
    state.stays = Array.from(document.querySelectorAll('.stay-block')).map(b => ({
      parish: b.querySelector('.parish-select').value,
      hotel: b.querySelector('.hotel-select').value,
      nights: +b.querySelector('.nights').value
    }));
    updateTotal();
    renderSummary();
    next('summary');
  };

  function updateTotal() {
    state.total = 0;
    document.querySelectorAll('.stay-block').forEach(b => {
      const nights = +b.querySelector('.nights').value || 0;
      state.total += nights * 250; // avg $250/night
    });
    document.getElementById('total').textContent = state.total.toLocaleString();
  }

  function renderSummary() {
    let html = '';
    state.stays.forEach(s => {
      const cost = s.nights * 250;
      html += `<div class="breakdown"><strong>${s.hotel}</strong> • ${s.parish} • ${s.nights} nights → $${cost}</div>`;
    });
    document.getElementById('final-summary').innerHTML = html;
  }

  document.getElementById('wallet-connect').onclick = () => {
    alert(`Payment of $${state.total} Confirmed\nSBT Minted on Solana\nWelcome to the YaadLife Tribe Forever`);
  };
});
</script>
</body>
</html>
